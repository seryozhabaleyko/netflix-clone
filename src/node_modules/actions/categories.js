import * as types from 'constants/types';
import { fetchCategories as fetchCategoriesApi } from 'api';

const fetchCategoriesActionCreator = () => async (dispatch) => {
    dispatch({
        type: types.categories.fetch.start
    });

    try {
        const categories = await fetchCategoriesApi();

        dispatch({
            type: types.categories.fetch.success,
            payload: categories
        });
    } catch (err) {
        dispatch({
            type: types.categories.fetch.failure,
            payload: err,
            error: true
        });
    }
};

export default fetchCategoriesActionCreator;