import * as types from 'constants/types';
import { fetchMovies as fetchMoviesApi } from 'api';

const fetchMoviesActionCreator = () => async (dispatch) => {

    dispatch({
        type: types.movies.fetch.start
    });

    try {
        const movies = await fetchMoviesApi();

        dispatch({
            type: types.movies.fetch.success,
            payload: movies
        });
    } catch (err) {
        dispatch({
            type: types.movies.fetch.failure,
            payload: err,
            error: true
        });
    }
};

export default fetchMoviesActionCreator;