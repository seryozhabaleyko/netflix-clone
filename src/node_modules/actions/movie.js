import * as types from 'constants/types';

import { fetchMovie as fetchMovieApi } from 'api'

export const fetchMovieActionCreator = (id) => async (dispatch) => {
    dispatch({
        type: types.movie.fetch.start
    });

    try {
        const movie = await fetchMovieApi(id);

        dispatch({
            type: types.movie.fetch.success,
            payload: movie
        });
    } catch (err) {
        dispatch({
            type: types.movie.fetch.failure,
            payload: err,
            error: true
        });
    }
};