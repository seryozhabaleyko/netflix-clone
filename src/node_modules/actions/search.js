import * as types from 'constants/types';

export const fetchSearchValue = (searchValue) => async (dispatch) => {

    dispatch({
        type: types.search.request,
    });

    try {
        const url = `https://api.github.com/search/repositories?q=${searchValue}`; // &language=javascript
        const response = await fetch(url);
        const search = await response.json();

        dispatch({
            type: types.search.success,
            payload: search,
        });
    } catch (error) {
        dispatch({
            type: types.search.failure,
            payload: error,
        });
    }
};