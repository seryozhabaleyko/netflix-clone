import React, { useState, Fragment } from 'react';
import classNames from 'classnames';

import './like.scss';

function Like() {

    const [like, setLike] = useState(234);
    const [likeActive, setLikeActive] = useState(false);

    const [dislike, setDislike] = useState(45);
    const [dislikeActive, setDislikeActive] = useState(false);

    const onLike = () => {
        setLike(likeActive ? like - 1 : like + 1);
        setLikeActive(!likeActive);
    };

    const onDislike = () => {
        setDislike(dislikeActive ? dislike - 1 : dislike + 1);
        setDislikeActive(!dislikeActive);
    };

    const handleLike = () => {
        if (dislikeActive) {
            onLike();
            onDislike();
        }
        onLike();
    };

    const handleDislike = () => {
        if (likeActive) {
            onDislike();
            onLike();
        }
        onDislike();
    };

    return (
        <Fragment>
            <button
                className={`button default small like ${classNames({ active: likeActive })}`}
                onClick={handleLike}
            >
                {like}
            </button>
            <button
                className={`button default small dislike ${classNames({ active: dislikeActive })}`}
                onClick={handleDislike}
            >
                {dislike}
            </button>
        </Fragment>
    );
}

export default Like;