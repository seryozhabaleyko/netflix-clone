import React from 'react';
import { Link } from 'react-router-dom';

import './movie.scss';

const Movie = ({ movie, categories }) => {

    const renderCategories = (arrayCategoryId) => {

        const result = categories.filter((category) => arrayCategoryId.includes(category.id));

        return result.map(({ id, title }) => (
            <Link to={`/category/${id}`} key={title}>{title}</Link>
        ));
    };

    const { id, title, image, categoryId } = movie;

    return (
        <article className='movie'>
            <div className='image'>
                <img src={image} className='movie-image' alt={title} />
            </div>
            <h3 className='movie-title'>
                <Link to={`/movie/${id}`}>{title}</Link>
            </h3>
            <nav className='movie-categories'>
                {renderCategories(categoryId)}
            </nav>
        </article>
    );
};

export default Movie;